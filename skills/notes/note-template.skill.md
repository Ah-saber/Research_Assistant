# /note-template - 创建新笔记模板

## 触发词
- "创建笔记模板"
- "新笔记格式"
- "笔记模板"
- "创建xxx笔记"

## 功能描述
为不同类型的笔记创建标准模板，包括Frontmatter、结构格式和示例内容。

## 笔记类型

### 1. 论文笔记 (Paper Notes)
适用于：阅读学术论文后记录

参考：`PLAN/references/论文笔记参考.md`

### 2. 概念笔记 (Concept Notes)
适用于：解释概念、定义、术语

参考：`PLAN/references/概念笔记参考.md`

### 3. 项目笔记 (Project Notes)
适用于：记录项目进度、实验、代码

参考：`PLAN/references/项目笔记参考.md`

### 4. 日志笔记 (Daily/Weekly Notes)
适用于：日常记录、学习日志

参考：`PLAN/references/日志笔记参考.md`

### 5. 索引笔记 (Index Notes)
适用于：组织和链接相关主题的笔记

参考：`PLAN/references/索引笔记参考.md`

**重要**：索引笔记必须使用表格格式，便于Dataview插件自动索引

## 模板元素

### Frontmatter规范

```yaml
---
title: "笔记标题"
type: [paper|concept|project|daily]
tags: [标签1, 标签2]
date: 2024-01-15
status: [reading|draft|done]
related: []
created: 2024-01-15
updated: 2024-01-15
---
```

### 模板语法

- `{{变量名}}` - 用户输入的变量
- `{{日期}}` - 当前日期
- `{{时间}}` - 当前时间
- `{{uuid}}` - 唯一ID

## 各类型模板

### 论文笔记模板

```markdown
---
title: "{{论文标题}}"
type: paper
authors: []
year: {{年份}}
venue: ""
tags: [论文, {{主题}}]
date: {{日期}}
status: reading
zotero_key: ""
related: []
---

## MyPoint

### 我的思考

### 疑惑与问题

### TODO
- [ ]

## 论文笔记

### 基本信息

### 研究背景

### 研究问题

### 创新方法

### 主要公式

### 实验结果

### 总结与评价
```

### 概念笔记模板

```markdown
---
title: "{{概念名称}}"
type: concept
tags: [概念, {{领域}}]
date: {{日期}}
status: draft
related: []
---

## 定义

{{概念的定义}}

## 解释

{{详细解释}}

## 例子

{{具体例子}}

## 相关概念

- [[相关概念1]]
- [[相关概念2]]

## 参考资料

```

### 项目笔记模板

```markdown
---
title: "{{项目名称}}"
type: project
tags: [项目, {{领域}}]
date: {{日期}}
status: active
related: []
---

## 项目概述

## 目标

## 进度

### 已完成
- [x] 任务1
- [x] 任务2

### 进行中
- [ ] 任务3

### 待办
- [ ] 任务4

## 问题与挑战

## 下一步

## 资源链接

```

### 日志笔记模板

```markdown
---
title: "{{日期}} 学习日志"
type: daily
tags: [日志]
date: {{日期}}
related: []
---

## 今日完成

## 今日学习

## 思考与收获

## 明日计划

## 待办事项
```

### 索引笔记模板（重要）

**索引笔记必须使用表格格式！**

**⚠️ 重要**：在表格中使用带别名的Wikilink时，管道符 `|` 必须转义为 `\|`：

| 情况 | 格式 |
|------|------|
| 无别名 | `[[笔记名称]]` |
| 有别名 | `[[笔记名称\|显示名]]` |

参考：`PLAN/references/索引笔记参考.md`

```markdown
---
title: "主题索引"
type: index
tags: [日志, 主题, 索引]
date: {{日期}}
related: [["相关主题"]]
---

# 主题索引

本索引整合了主题相关的所有笔记。

## 1. 分类1

| 笔记 | 说明 |
|------|------|
| [[笔记名称]] | 笔记说明 |
| [[笔记名称\|显示名]] | 笔记说明 |  ← 有别名时需要转义

## 2. 分类2

| 时间/类别 | 笔记 |
|----------|------|
| 时间/类别名 | [[笔记名称]] |

## 相关主题

- [[相关主题]] - 说明

## 更新记录

- {{日期}}: 创建索引笔记
```

## 输入参数

| 参数 | 说明 | 必填 |
|------|------|------|
| type | 笔记类型 | 是 |
| title | 笔记标题 | 否 |
| template | 自定义模板文件 | 否 |

## 使用方式

### 方式1：交互式创建（推荐）
```bash
用户: /note-template

你: 使用AskUserQuestion询问笔记类型：
1. 论文笔记
2. 概念笔记
3. 项目笔记
4. 日志笔记

用户: 选择1

你: 生成模板并询问保存位置
用户: 确认后创建笔记
```

### 交互流程（重要）

**必须**使用AskUserQuestion让用户选择笔记类型：

```markdown
请选择要创建的笔记类型：
- 论文笔记（阅读论文后记录）
- 概念笔记（解释概念、定义）
- 项目笔记（记录项目进度）
- 日志笔记（日常记录）
- 索引笔记（组织主题相关笔记，**必须使用表格格式**）
```

### 方式2：直接指定
```bash
用户: /note-template paper "Attention Is All You Need"

你: 已创建论文笔记模板
[显示模板内容]
```

### 方式3：从参考模板
```bash
用户: /note-template --from "PLAN/references/论文笔记参考.md"

你: 已从参考文档创建模板
[显示模板内容]
```

## 自定义模板

用户可以创建自己的模板：

1. 在Obsidian中创建模板笔记
2. 使用`/note-template --from <模板路径>`引用
3. 模板中使用变量语法

## 模板变量

| 变量 | 说明 | 示例 |
|------|------|------|
| {{日期}} | 当前日期 | 2024-01-15 |
| {{时间}} | 当前时间 | 14:30 |
| {{标题}} | 笔记标题 | xxx |
| {{uuid}} | 唯一ID | 550e8400-e29b-41d4-a716-446655440000 |

## 示例

```bash
用户: /note-template concept "注意力机制"

你: 正在创建概念笔记模板...

---
title: "注意力机制"
type: concept
tags: [概念, 深度学习]
date: 2024-01-15
status: draft
related: []
---

## 定义

[请填写注意力机制的定义]

## 解释

[请详细解释]

## 例子

[请提供具体例子]

## 相关概念

- [[Transformer]]
- [[自注意力]]

## 参考资料

已创建模板笔记！
位置：C:\Note\MyNote_Obs\概念\注意力机制.md
```

## 注意事项

- 模板中的变量需要用户填写
- 创建后提醒用户完善内容
- 自动添加相关链接建议
- 遵循现有笔记规范

## 与 obsidian-markdown 的关系

**分工明确**：
- **obsidian-markdown**：提供 Obsidian 格式语法参考文档
  - Frontmatter、Wikilink、Callout、标签、Embeds的语法规范
- **/note-template**：提供模板创建工作流
  - 询问笔记类型 → 生成模板 → 使用Write工具创建笔记

**不是重复造轮子**：
- obsidian-markdown 是**文档技能**，不执行文件操作
- 本技能是**工作流封装**，使用 Write 工具创建新笔记
- 两者是**参考与执行**的关系

**使用的Obsidian特性**：
- Frontmatter：所有模板包含YAML格式的元数据块
- Wikilink：模板中包含链接示例（[[笔记名|显示名]]）
- Callout：特定模板包含提醒块（> [!类型] 标题）
- 标签：层级标签格式（#一级/二级/三级）
- Embeds：概念笔记模板可能包含嵌入（![[笔记名]]）
