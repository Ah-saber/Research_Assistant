# /idea-organize - 整理和分类Idea

## 触发词
- "整理Idea"
- "分类想法"
- "Idea整理"
- "整理Inspiration"

## 功能描述
整理Inspiration目录中的Idea，包括标签规范化、分组整理、去重识别等。

## 整理内容

### 1. 标签规范化
- 统一Idea标签格式
- 识别并合并同义标签
- 按主题层级组织标签

### 2. 分组整理
- 按主题分组显示
- 按状态分组（萌芽/思考中/已实现/已放弃）
- 按时间分组（本周/本月/更早）

### 3. 去重识别
- 检测相似或重复的Idea
- 提出合并建议
- 保留更完整的版本

### 4. 状态更新建议
- 根据时间和内容建议状态更新
- 识别长期未更新的Idea
- 提醒跟进已搁置的Idea

## 整理范围

**默认**：Inspiration目录

**可选**：
- 指定日期范围
- 指定主题标签
- 指定状态

## 整理报告格式

```markdown
# Idea整理报告

## 概览
- Idea总数：25个
- 新增本周：3个
- 状态分布：
  - 萌芽：12
  - 思考中：8
  - 已实现：3
  - 已放弃：2

## 按主题分组

### 深度学习（10个）
1. [萌芽] 用注意力机制解释CNN
2. [思考中] 多模态融合方法
...

### 实验想法（8个）
...

## 重复检测

发现以下Idea可能重复：
- "注意力解释CNN" ≈ "用注意力可视化CNN" (相似度85%)
  建议：合并

## 状态更新建议

以下Idea建议更新状态：
- "GNN分子结构"（创建于30天前，状态仍为萌芽）
  建议：评估是否推进或标记为已放弃

## 标签规范化
- `#idea` → `#Idea`
- `#实验想法` → `#Idea/实验`
- `#深度学习相关` → `#Idea/深度学习`

## 操作建议
1. 合并重复Idea：2组
2. 更新标签：5个
3. 更新状态：3个

确认执行整理？
```

## 输入参数

| 参数 | 说明 | 必填 |
|------|------|------|
| scope | 整理范围 | 否，默认Inspiration全部 |
| dry_run | 仅预览 | 否，默认true |
| group_by | 分组方式 | 否，默认主题 |

## 去重规则

### 相似度计算
```python
相似度 = 标题相似 * 0.3 + 内容相似 * 0.5 + 标签重叠 * 0.2

阈值：≥75% 建议合并
```

### 合并策略
- 保留：更完整、更新的版本
- 记录：在frontmatter添加`merged_from`字段
- 追溯：保留原始创建时间

## 标签规范

### 层级格式
```
#Idea                # 所有Idea
#Idea/方法           # 方法类想法
#Idea/实验           # 实验类想法
#Idea/应用           # 应用类想法
#Idea/理论           # 理论类想法
```

### 同义词映射
```
#idea, #想法, #思考 → #Idea
#实验, #实验想法 → #Idea/实验
#方法, #方法想法 → #Idea/方法
```

## 执行模式

**建议优先**
1. 分析Inspiration中的Idea
2. 生成整理报告
3. 展示所有变更建议
4. 等待用户确认
5. 执行整理操作

**操作类型**
- 安全：标签格式化
- 需确认：合并Idea、状态更新
- 需审核：删除内容

## 工作流程

```
1. 扫描Inspiration目录
2. 分析所有Idea笔记
3. 识别整理需求
4. 生成整理报告
5. 用户审核
6. 执行整理
7. 生成整理结果
```

## 示例

### 示例1：完整整理
```bash
用户: /idea-organize

你: 正在整理Inspiration中的Idea...

✓ 扫描25个Idea
✓ 检测到2组重复
✓ 识别5个标签需规范化

## 整理报告
[显示报告]

确认执行？
1. 全部执行
2. 选择执行
3. 取消
```

### 示例2：按主题整理
```bash
用户: /idea-organize --group_by 主题 --tag 深度学习

你: 正在整理深度学习相关的Idea...

找到10个相关Idea：

### 方法类（5个）
1. 注意力机制解释方法
...

### 实验类（3个）
...

### 应用类（2个）
...

建议操作：
- 合并重复Idea 1组
- 规范化标签 3个
```

### 示例3：去重检查
```bash
用户: /idea-organize --focus duplicate

你: 检查Inspiration中的重复Idea...

发现以下可能重复：

1. 【相似度92%】
   - "用注意力机制解释CNN"
   - "注意力可视化解释CNN决策"

   建议：合并到"用注意力机制解释CNN"
   理由：内容基本相同，前者更完整

是否合并？
```

## 整理后操作

整理完成后建议：
- 查看整理结果
- `/idea-review` - 回顾整理后的Idea
- 将有价值的Idea移至IDEA目录
- 更新Idea状态

## 提示用户

```
整理完成后，建议：
1. 查看整理结果
2. 评估哪些Idea值得推进
3. 将有价值的Idea从Inspiration移至科研/IDEA
```

## 与IDEA目录的关系

**重要说明**：
- `/idea-organize` 仅整理Inspiration目录
- 不访问科研/IDEA目录（需授权）
- 用户手动将Inspiration中确认的Idea移至IDEA

## 工作流

```
1. 在Inspiration中记录Idea（/idea-capture）
2. 定期整理Inspiration（/idea-organize）
3. 回顾和评估Idea（/idea-review）
4. 手动将有价值的Idea移至科研/IDEA
```

## 注意事项

1. 不删除用户原始内容
2. 合并操作需用户确认
3. 保留Idea历史记录
4. 不访问IDEA目录（除非授权）

## 与 obsidian-markdown 的关系

**分工明确**：
- **obsidian-markdown**：提供 Obsidian 格式语法参考文档
  - Frontmatter、Wikilink、标签的语法规范
- **/idea-organize**：提供Idea整理工作流
  - 分析Inspiration → 生成整理方案 → 执行整理操作

**不是重复造轮子**：
- obsidian-markdown 是**文档技能**，不执行文件操作
- 本技能是**工作流封装**，使用 Read/Edit 工具修改笔记
- 两者是**参考与执行**的关系

**使用的Obsidian特性**：
- Frontmatter：分析和规范化Idea元数据
- Wikilink：验证和修复链接关系
- 标签：规范化为层级格式
